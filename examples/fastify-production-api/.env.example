# Noony Fastify Production API - Environment Configuration

# =============================================================================
# Application Settings
# =============================================================================
NODE_ENV=development
LOG_LEVEL=info
DEBUG=true

# =============================================================================
# Server Configuration
# =============================================================================

# Fastify Server Settings
FASTIFY_PORT=3000
FASTIFY_HOST=0.0.0.0

# Google Cloud Functions Framework Settings
FUNCTIONS_PORT=8080
FUNCTION_SOURCE=src

# =============================================================================
# Authentication & Security
# =============================================================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h
JWT_ALGORITHM=HS256

# Password Hashing
BCRYPT_ROUNDS=12

# API Rate Limiting (requests per minute)
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# =============================================================================
# Database Configuration (Simulated - In Memory)
# =============================================================================

# In a real application, you would have:
# DATABASE_URL=postgresql://username:password@localhost:5432/database
# REDIS_URL=redis://localhost:6379

# For this example, we use in-memory storage with optional persistence
ENABLE_DATA_PERSISTENCE=true
DATA_FILE_PATH=./data/users.json

# =============================================================================
# API Configuration
# =============================================================================

# API Versioning
API_VERSION=v1
API_PREFIX=/api/v1

# Pagination Defaults
DEFAULT_PAGE_SIZE=10
MAX_PAGE_SIZE=100

# Request Size Limits
MAX_REQUEST_SIZE=10mb
MAX_UPLOAD_SIZE=50mb

# =============================================================================
# Monitoring & Observability
# =============================================================================

# Request Tracking
ENABLE_REQUEST_ID=true
REQUEST_ID_HEADER=x-request-id

# Performance Monitoring
ENABLE_PERFORMANCE_TRACKING=true
SLOW_REQUEST_THRESHOLD=1000

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000
INCLUDE_DETAILED_HEALTH=true

# =============================================================================
# Development Settings
# =============================================================================

# CORS Settings (Development)
CORS_ORIGIN=http://localhost:3000,http://localhost:8080
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_CREDENTIALS=true

# Pretty Print Logs (Development)
PRETTY_PRINT_LOGS=true

# Mock External Services
MOCK_EXTERNAL_SERVICES=true

# =============================================================================
# Production Settings (Override in production environment)
# =============================================================================

# Security Headers (Production)
# ENABLE_SECURITY_HEADERS=true
# FORCE_HTTPS=true

# Logging (Production)
# LOG_LEVEL=warn
# PRETTY_PRINT_LOGS=false
# DEBUG=false

# Performance (Production)
# ENABLE_COMPRESSION=true
# ENABLE_CACHING=true

# =============================================================================
# External Services Configuration
# =============================================================================

# Email Service (Example)
# EMAIL_SERVICE_URL=https://api.sendgrid.com
# EMAIL_API_KEY=your-sendgrid-api-key

# Third-party APIs
# EXTERNAL_API_URL=https://api.example.com
# EXTERNAL_API_KEY=your-api-key

# =============================================================================
# Feature Flags
# =============================================================================

# Feature toggles for A/B testing or gradual rollouts
FEATURE_ADVANCED_SEARCH=true
FEATURE_USER_ANALYTICS=false
FEATURE_BETA_ENDPOINTS=false